<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>University of Calgary - Academic Planning Navigator</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèõÔ∏è University of Calgary</h1>
            <span class="header-title">Academic planning and Course Advising Navigator</span>
        </div>

        <div class="student-banner">
            <div class="student-info">
                <div>
                    <div class="student-name">John Doe</div>
                    <div class="student-details">Software Engineering - 3rd year - ID: 30174478</div>
                </div>
                <div class="gpa-info">
                    <div class="gpa">GPA: 0.67</div>
                    <div class="credits">84/159 credits</div>
                </div>
            </div>
            <div class="progress-bar" id="overallProgressBar">
                <div class="progress-fill completed" id="completedProgress"></div>
                <div class="progress-fill in-progress" id="inProgressProgress"></div>
                <div class="progress-fill not-done" id="notDoneProgress"></div>
            </div>
            <div style="margin-top:8px; font-size:13px;" id="progressText">Overall degree progress:</div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">Overview</button>
            <button class="tab" onclick="showTab('requirements')">Requirements</button>
            <button class="tab" onclick="showTab('advising')">Advising</button>
        </div>

        <div class="content">
            <div class="main-area">
                <div id="overview-content">
                    <div class="course-list">
                        <div class="section-title">Current Semester Courses (Fall 2026 - 3rd Year)</div>
                        <div style="font-size:13px; color:#666; margin-bottom:15px;">15 credits ‚Ä¢ Core 3rd-year workload</div>
                        
                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 460</div>
                                <div class="course-name">Object Oriented Design</div>
                                <div class="course-instructor">Dr. Patrick Mahomes</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">In Progress</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 460')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 461</div>
                                <div class="course-name">Software Product Management</div>
                                <div class="course-instructor">Dr. Michael Jordan</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">In Progress</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 461')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 462</div>
                                <div class="course-name">Software Architecture</div>
                                <div class="course-instructor">Dr. Lebron James</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">In Progress</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 462')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENEL 480</div>
                                <div class="course-name">Computer Hardware</div>
                                <div class="course-instructor">Dr. Tom Brady</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">In Progress</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENEL 480')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENEL 461</div>
                                <div class="course-name">Electrical Circuits and Power</div>
                                <div class="course-instructor">Dr. JJ Watt</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">In Progress</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENEL 461')">View Details</button>
                            </div>
                        </div>
                    </div>

                    <div class="course-list" style="margin-top: 30px;">
                        <div class="section-title">Winter 2027 Registration (3rd Year)</div>
                        <div style="font-size:13px; color:#666; margin-bottom:15px;">15 credits ‚Ä¢ Upcoming 3rd-year lineup</div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 400</div>
                                <div class="course-name">Software Engineering Project Management 2</div>
                                <div class="course-instructor">Dr. Devante Adams </div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">Planned</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 400')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 444</div>
                                <div class="course-name">Software Design Patterns</div>
                                <div class="course-instructor">Dr. Dwayne Wade</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">Planned</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 444')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 401</div>
                                <div class="course-name">Software Testing and Quality Assurance</div>
                                <div class="course-instructor">Dr. Lamar Jackson</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">Planned</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 401')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">SENG 438</div>
                                <div class="course-name">Machine Learning</div>
                                <div class="course-instructor">Dr. Kyler Murray</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">Planned</div>
                                <button class="view-details-btn" onclick="showCourseModal('SENG 438')">View Details</button>
                            </div>
                        </div>

                        <div class="course-item">
                            <div class="course-info">
                                <div class="course-code">ENSF 441</div>
                                <div class="course-name">Software Reverse Engineering</div>
                                <div class="course-instructor">Dr. Tua Tagovailoa</div>
                                <div class="course-credits">3 Credits</div>
                            </div>
                            <div class="course-actions">
                                <div class="course-status">Planned</div>
                                <button class="view-details-btn" onclick="showCourseModal('ENSF 441')">View Details</button>
                            </div>
                        </div>

                    </div>


                </div>


                <div id="requirements-content" class="hidden">
                    <div class="section-title">Degree Requirements Overview</div>
                    <p class="requirements-description" style="font-size:14px; color:#555; margin-bottom:25px;">
                        This section tracks your overall progress toward graduation, breaking down the specific categories of courses you need to complete. Your degree requires satisfying four main buckets: **Major**, **Minor**, **Technical Electives**, and **COST options**.
                    </p>
                    
                    <div class="requirement-card">
                        <div class="requirement-header">
                            <div class="requirement-title">Major Requirements: Software Engineering</div>
                            <button class="view-btn" onclick="showMajorRequirements()">Open Major Requirements</button>
                        </div>
                        <div class="requirement-progress">
                            <div class="progress-bar" id="majorProgressBar">
                                <div class="progress-fill completed" id="majorCompletedProgress"></div>
                                <div class="progress-fill in-progress" id="majorInProgressProgress"></div>
                                <div class="progress-fill not-done" id="majorNotDoneProgress"></div>
                            </div>
                        </div>
                    </div>

                    <div class="requirement-card">
                        <div class="requirement-header">
                            <div class="requirement-title">Minor Requirements: Mechatronics Engineering</div>
                            <button class="view-btn" onclick="showMinorRequirements()">Open Minor Requirements</button>
                        </div>
                        <div class="requirement-progress">
                            <div class="progress-bar" id="minorProgressBar">
                                <div class="progress-fill completed" id="minorCompletedProgress"></div>
                                <div class="progress-fill in-progress" id="minorInProgressProgress"></div>
                                <div class="progress-fill not-done" id="minorNotDoneProgress"></div>
                            </div>
                        </div>
                    </div>

                    <div class="requirement-card">
                        <div class="requirement-header">
                            <div class="requirement-title">Technical Electives</div>
                            <button class="view-btn" onclick="showTechnicalElectives()">Explore Technical Electives Requirements</button>
                        </div>
                        <div class="progress-bar" id="techProgressBar">
                            <div class="progress-fill completed" id="techCompletedProgress"></div>
                            <div class="progress-fill in-progress" id="techInProgressProgress"></div>
                            <div class="progress-fill not-done" id="techNotDoneProgress"></div>
                        </div>
                    </div>

                    <div class="requirement-card">
                        <div class="requirement-header">
                            <div class="requirement-title">COST Electives</div>
                            <button class="view-btn" onclick="showCOSTElectives()">Explore COST Requirements</button>
                        </div>
                        <div class="progress-bar" id="costProgressBar">
                            <div class="progress-fill completed" id="costCompletedProgress"></div>
                            <div class="progress-fill in-progress" id="costInProgressProgress"></div>
                            <div class="progress-fill not-done" id="costNotDoneProgress"></div>
                            </div>
                    </div>
                </div>

                <div id="major-requirements-content" class="hidden">
                    <div class="major-layout">
                        <div class="major-main">
                            <div style="margin-bottom:20px;">
                                <a href="#" class="return-link" onclick="showTab('requirements'); return false;">‚Üê Return</a>
                            </div>
                            
                            <div class="section-title">Major Requirements: Software Engineering</div>
                            <p class="requirements-description" style="font-size:14px; color:#555; margin-bottom:25px;">
                                These are the core, mandatory courses for your degree program. They provide the foundational knowledge and advanced skills specific to Software Engineering, defining your primary area of study.
                            </p>

                            <div class="year-section">
                                <div class="year-title">Year: 1st</div>
                                <div class="course-grid" id="grid-year1">
                                    <div class="course-box green" data-course="CHEM 209">CHEM 209</div>
                                    <div class="course-box green" data-course="ENDG 233">ENDG 233</div>
                                    <div class="course-box green" data-course="MATH 275">MATH 275</div>
                                    <div class="course-box green" data-course="MATH 211">MATH 211</div>
                                    <div class="course-box green" data-course="ENGG 225">ENGG 225</div>
                                </div>

                                <div class="course-grid" id="grid-year1-row2">
                                    <div class="course-box green" data-course="ENGG 201">ENGG 201</div>
                                    <div class="course-box green" data-course="ENGG 202">ENGG 202</div>
                                    <div class="course-box green" data-course="MATH 277">MATH 277</div>
                                    <div class="course-box green" data-course="PHYS 259">PHYS 259</div>
                                    <div class="course-box green" data-course="ENGG 200">ENGG 200</div>
                                </div>
                            </div>

                            <div class="year-section">
                                <div class="year-title">Year: 2nd</div>
                                <div class="course-grid" id="grid-year2">
                                    <div class="course-box green" data-course="ENDG 319">ENDG 319</div>
                                    <div class="course-box green" data-course="ENSF 300">ENSF 300</div>
                                    <div class="course-box green" data-course="MATH 375">MATH 375</div>
                                    <div class="course-box green" data-course="ENSF 337">ENSF 337</div>
                                    <div class="course-box green" data-course="ENEL 353">ENEL 353</div>
                                </div>

                                <div class="course-grid" id="grid-year2-row2">
                                    <div class="course-box green" data-course="MATH 271">MATH 271</div>
                                    <div class="course-box green" data-course="ENSF 338">ENSF 338</div>
                                    <div class="course-box green" data-course="ENSF 380">ENSF 380</div>
                                    <div class="course-box green" data-course="ENSF 381">ENSF 381</div>
                                    <div class="course-box green" data-course="ENCM 369">ENCM 369</div>
                                </div>
                            </div>

                            <div class="year-section">
                                <div class="year-title">Year: 3rd</div>
                                <div class="course-grid" id="grid-year3">
                                    <div class="course-box yellow" data-course="ENSF 460">ENSF 460</div>
                                    <div class="course-box yellow" data-course="ENSF 461">ENSF 461</div>
                                    <div class="course-box yellow" data-course="ENSF 462">ENSF 462</div>
                                    <div class="course-box yellow" data-course="ENSF 480">ENSF 480</div>
                                    <div class="course-box yellow" data-course="ENME 461">ENME 461</div>
                                </div>

                                <div class="course-grid" id="grid-year3-row2">
                                    <div class="course-box yellow" data-course="ENSF 400">ENSF 400</div>
                                    <div class="course-box yellow" data-course="ENSF 444">ENSF 444</div>
                                    <div class="course-box yellow" data-course="SENG 401">SENG 401</div>
                                    <div class="course-box yellow" data-course="SENG 438">SENG 438</div>
                                    <div class="course-box yellow" data-course="ENEL 441">ENEL 441</div>
                                </div>
                            </div>

                            <div class="year-section">
                                <div class="year-title">Year: 4th</div>
                                <div class="course-grid" id="grid-year4">
                                    <div class="course-box red" data-course="ENEL 500A">ENEL 500A</div>
                                    <div class="course-box red" data-course="SENG 511">SENG 511</div>
                                    <div class="course-box red" data-course="ENME 561">ENME 561</div>
                                    <div class="course-box red" data-course="ENEL 500B">ENEL 500B</div>
                                    <div class="course-box red" data-course="SENG 533">SENG 533</div>
                                </div>

                                <div class="course-grid" id="grid-year4-row2">
                                    <div class="course-box yellow" data-course="">COST Option</div>
                                    <div class="course-box yellow" data-course="">COST Option</div>
                                    <div class="course-box yellow" data-course="">COST Option</div>
                                    <div class="course-box yellow" data-course="">COST Option</div>
                                    <div class="course-box yellow" data-course="">COST Option</div>
                                </div>
                            </div>
                        </div>

                        <aside class="sidebar" id="courseSidebar">
                            <div class="search-header">
                                <div class="search-title">Course Search</div>
                                <div style="font-size:12px;color:#666;">Drag to replace</div>
                            </div>

                            <input id="courseSearch" class="search-input" placeholder="Search courses (e.g. ENGG 225)" />

                            <div class="search-results" id="searchResults"></div>

                            <div class="small-note">Tip: drag a result onto any course box to replace it. Click a box to view prerequisites.</div>
                        </aside>
                    </div>
                </div>

                <div id="minor-requirements-content" class="hidden">
                    <div style="margin-bottom:20px;">
                        <a href="#" class="return-link" onclick="showTab('requirements'); return false;">‚Üê Return</a>
                    </div>
                    
                    <div class="section-title">Minor: Mechatronics Engineering</div>
                    <p class="requirements-description" style="font-size:14px; color:#555; margin-bottom:25px;">
                        A Minor is a secondary concentration requiring a smaller set of courses outside your Major. It allows you to develop specialized knowledge in a complementary field, like Mechatronics Engineering.
                    </p>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">ENME 327</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Mechatronics Systems</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Fall 2024</div>
                        </div>
                        
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('ENME 327')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">ENEL 301</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Electrical Circuits and Power</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Winter 2024</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('ENEL 301')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item incomplete">
                        <div style="flex: 1;">
                            <div class="elective-code">ENME 455</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Advanced Mechatronics</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Offered: Fall, Winter</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Incomplete</div>
                            <button class="view-btn" onclick="openPrerequisites('ENME 455')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item incomplete">
                        <div style="flex: 1;">
                            <div class="elective-code">ENME 527</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Robotics and Automation</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Offered: Fall, Winter</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Incomplete</div>
                            <button class="view-btn" onclick="openPrerequisites('ENME 527')">View Details</button>
                        </div>
                    </div>

                    <div class="completion-summary">
                        <span>Completed</span>
                        <span>9/12 Credits</span>
                    </div>
                </div>

                <div id="technical-electives-content" class="hidden">
                    <div style="margin-bottom:20px;">
                        <a href="#" class="return-link" onclick="showTab('requirements'); return false;">‚Üê Return</a>
                    </div>
                    
                    <div class="section-title">Technical Electives</div>
                    <p class="requirements-description" style="font-size:14px; color:#555; margin-bottom:25px;">
                        These are upper-level, specialized courses, usually within your faculty, that allow you to customize your degree. They let you explore advanced topics or niche areas of engineering beyond the mandatory core.
                    </p>

                    <div class="elective-item incomplete">
                        <div style="flex: 1;">
                            <div class="elective-code">TECH 401</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Advanced Technical Elective I</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Offered: Fall, Winter</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Incomplete</div>
                            <button class="view-btn" onclick="openPrerequisites('TECH 401')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item incomplete">
                        <div style="flex: 1;">
                            <div class="elective-code">TECH 402</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Advanced Technical Elective II</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Offered: Fall, Winter</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Incomplete</div>
                            <button class="view-btn" onclick="openPrerequisites('TECH 402')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item incomplete">
                        <div style="flex: 1;">
                            <div class="elective-code">TECH 403</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Advanced Technical Elective III</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Offered: Fall, Winter</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Incomplete</div>
                            <button class="view-btn" onclick="openPrerequisites('TECH 403')">View Details</button>
                        </div>
                    </div>

                    <div class="completion-summary">
                        <span>Completed</span>
                        <span>6/9 Credits</span>
                    </div>
                </div>

                <div id="cost-electives-content" class="hidden">
                    <div style="margin-bottom:20px;">
                        <a href="#" class="return-link" onclick="showTab('requirements'); return false;">‚Üê Return</a>
                    </div>
                    
                    <div class="section-title">COST Electives</div>
                    <p class="requirements-description" style="font-size:14px; color:#555; margin-bottom:25px;">
                        COST courses ensure you develop essential skills outside of pure engineering, such as critical thinking, communication, and understanding the social impact of technology.
                    </p>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">COST 201</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Introduction to Communication Studies</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Fall 2023</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('COST 201')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">COST 305</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Communication Theory</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Winter 2024</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('COST 305')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">COST 412</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Advanced Communication Studies</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Fall 2024</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('COST 412')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">COST 450</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Media and Society</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Winter 2025</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('COST 450')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item completed">
                        <div style="flex: 1;">
                            <div class="elective-code">COST 491</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Communication Research Methods</div>
                            <div class="elective-credits">2 Credits ‚Ä¢ Fall 2024</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Completed</div>
                            <button class="view-btn" onclick="openPrerequisites('COST 491')">View Details</button>
                        </div>
                    </div>

                    <div class="elective-item incomplete">
                        <div style="flex: 1;">
                            <div class="elective-code">COST 510</div>
                            <div style="font-size: 12px; color: #888; margin-top: 4px; margin-bottom: 4px;">Capstone in Communication Studies</div>
                            <div class="elective-credits">3 Credits ‚Ä¢ Offered: Fall, Winter</div>
                        </div>
                        <div style="display:flex; align-items:center; gap:10px;">
                            <div class="elective-status">Incomplete</div>
                            <button class="view-btn" onclick="openPrerequisites('COST 510')">View Details</button>
                        </div>
                    </div>

                    <div class="completion-summary">
                        <span>Completed</span>
                        <span>12/18 Credits</span>
                    </div>
                </div>

                <div id="advising-content" class="hidden">
                        <div class="bookings-section" style="background: white; padding: 20px; border-radius: 4px; margin-bottom: 20px;">
                            <div class="appointment-header">
                                <div class="appointment-title">Current Bookings</div>
                            </div>
                            <div id="bookingsList" style="margin-top: 15px;">
                                </div>
                        </div>

                        <div class="advising-section">
                            <div class="appointment-header">
                                <div class="appointment-title">Book New Appointment</div>
                            </div>

                            <div style="margin-bottom: 10px; font-weight: 600; font-size: 14px;">Select Department</div>
                            <select class="department-select" id="departmentSelect">
                                <option value="">-- Select a Department --</option>
                                <option value="ENSF">ENSF - Software Engineering</option>
                                <option value="ENME">ENME - Mechanical Engineering</option>
                                <option value="ENEL">ENEL - Electrical Engineering</option>
                                <option value="ENCM">ENCM - Computer Engineering</option>
                                <option value="ENGG">ENGG - General Engineering</option>
                                <option value="MATH">MATH - Mathematics</option>
                                <option value="COST">COST - Communication Studies</option>
                                <option value="OTHER">OTHER - General Advising</option>
                            </select>

                            <div style="margin-bottom: 10px; font-weight: 600; font-size: 14px;">Select Date</div>
                            <input type="date" class="date-input" value="2025-08-17">

                            <div class="time-slots">
                                <div class="section-title" style="margin-bottom: 15px;">Available Time Slots</div>
                                <div id="timeSlotsContainer">
                                    </div>
                            </div>

                            <div class="reason-section">
                                <div class="reason-title">Reason for Advising</div>
                                <textarea class="reason-input" id="advisingReason" placeholder="Enter your reason for advising..."></textarea>
                            </div>

                            <div style="text-align: center; margin-top: 20px;">
                                <button class="book-btn" onclick="bookAppointment()">Book Appointment</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <div class="modal-title">‚úì Appointment Booked!</div>
            <div class="modal-message" id="modalMessage"></div>
            <button class="modal-close-btn" onclick="closeModal()">Close</button>
        </div>
    </div>

    <div class="modal" id="courseModal">
        <div class="modal-content" style="max-width: 600px; text-align: left;">
            <div class="modal-title" id="courseModalTitle"></div>
            <div id="courseModalContent" style="margin-top: 20px;"></div>
            <button class="modal-close-btn" onclick="closeCourseModal()" style="margin-top: 20px;">Close</button>
        </div>
    </div>

    <script>

        const completedCourses = [
            "CHEM 209","ENDG 233","MATH 275","MATH 211","ENGG 225",
            "ENGG 201","ENGG 202","MATH 277","PHYS 259","ENGG 200",
            "ENDG 319","ENSF 300","MATH 375","ENSF 337","ENEL 353",
            "MATH 271","ENCM 369","ENEL 327","ENEL 301","COST 201",
            "COST 305","COST 412","COST 450"
        ];


        const prereqs = {
            'PHYS 259': [ 'MATH 211', 'MATH 275' ],
            'MATH 277': [ 'MATH 275' ],
            'ENDG 319': [ 'ENDG 233', 'MATH 277' ],
            'ENSF 300': [ 'ENDG 233' ],
            'MATH 375': [ 'MATH 277' ],
            'ENSF 337': [ 'ENDG 233' ],
            'MATH 271': [ 'MATH 211' ],
            'ENSF 338': [ 'ENSF 300', 'ENSF 337' ],
            'ENSF 380': [ 'ENSF 300', 'ENSF 337' ],
            'ENSF 381': [ 'ENSF 300', 'ENSF 337' ],
            'ENCM 369': [ 'ENEL 353', 'ENSF 337' ],
            'ENEL 327': [ 'MATH 375' ],
            'ENGG 349': [ 'ENGG 202' ],
            'ENSF 460': [ 'ENCM 369' ],
            'ENSF 461': [ 'ENSF 338', 'ENCM 369' ],
            'ENSF 480': [ 'ENSF 338', 'ENCM 369' ],
            'ENME 461': [ 'ENGG 349', 'ENGG 225' ],
            'ENSF 400': [ 'ENSF 300' ],
            'ENSF 444': [ 'ENSF 300', 'ENSF 337' ],
            'ENSF 401': [ 'ENSF 338' ],
            'ENSF 438': [ 'ENSF 338' ],
            'ENEL 441': [ 'ENEL 327' ],
            'SENG 511': [ 'ENSF 480' ],
            'ENME 561': [ 'ENME 461' ],
            'ENEL 500B': [ 'ENEL 500A' ],
            'SENG 533': [ 'ENSF 480', 'ENSF 461' ],
            'ENEL 301': [ 'ENEL 201', 'ENGG 233', 'ENGG 225' ],
            'ENME 327': [ 'ENEL 301', 'ENME 300' ],
            'ENME 455': [ 'ENEL 255' ],
            'ENME 527': [ 'ENME 455' ],
            'COST 305': [ 'COST 201' ],
            'COST 412': [ 'COST 305' ],
            'COST 450': [ 'COST 412' ],
            'COST 491': [ 'COST 450' ],
            'COST 510': [ 'COST 491' ],
            'CHEM 209': [],
            'ENDG 233': [],
            'MATH 275': [],
            'MATH 211': [],
            'ENGG 225': [],
            'ENGG 201': [],
            'ENGG 202': [],
            'ENGG 200': [],
            'ENSF 300': [],
            'ENEL 353': []

        };

        const courseInfo = {
            'ENSF 300': {
                name: 'Programming Fundamentals for Software Engineers',
                description: 'Introduction to programming concepts, data structures, and algorithms using modern programming languages. Covers object-oriented programming, recursion, and basic software engineering principles.',
                credits: 3,
                professors: ['Dr. Sarah Johnson', 'Prof. Michael Chen', 'Dr. Emily Roberts'],
                recentOfferings: ['Fall 2024', 'Winter 2025', 'Fall 2025'],
                userTaken: 'Fall 2024'
            },
            'ENSF 337': {
                name: 'Programming Fundamentals for Software Engineers II',
                description: 'Advanced programming concepts including file I/O, exception handling, and introduction to software design patterns. Builds upon foundational programming skills.',
                credits: 3,
                professors: ['Dr. Sarah Johnson', 'Prof. David Martinez'],
                recentOfferings: ['Winter 2024', 'Fall 2024', 'Winter 2025'],
                userTaken: 'Winter 2024'
            },
            'ENSF 338': {
                name: 'Software Design and Architecture',
                description: 'Principles of software design, architecture patterns, and system design. Covers design patterns, architectural styles, and software quality attributes.',
                credits: 3,
                professors: ['Dr. Emily Roberts', 'Prof. Michael Chen'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: null
            },
            'ENSF 480': {
                name: 'Software Engineering Project',
                description: 'Capstone project course where students work in teams to develop a complete software system. Emphasizes project management, teamwork, and real-world software development practices.',
                credits: 3,
                professors: ['Dr. Sarah Johnson', 'Dr. Emily Roberts'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: null
            },
            'MATH 211': {
                name: 'Linear Methods I',
                description: 'Introduction to linear algebra including vectors, matrices, systems of linear equations, and eigenvalues. Fundamental concepts for engineering applications.',
                credits: 3,
                professors: ['Prof. James Wilson', 'Dr. Lisa Anderson'],
                recentOfferings: ['Fall 2024', 'Winter 2025', 'Spring 2025'],
                userTaken: 'Fall 2023'
            },
            'MATH 275': {
                name: 'Calculus for Engineers and Scientists',
                description: 'Differential and integral calculus with applications to engineering problems. Topics include limits, derivatives, integrals, and their applications.',
                credits: 3,
                professors: ['Prof. James Wilson', 'Dr. Robert Brown'],
                recentOfferings: ['Fall 2024', 'Winter 2025', 'Spring 2025'],
                userTaken: 'Fall 2023'
            },
            'ENGG 225': {
                name: 'Engineering Design and Communication',
                description: 'Introduction to engineering design process, technical communication, and professional skills. Includes report writing, presentations, and teamwork.',
                credits: 3,
                professors: ['Prof. Michael Chen', 'Dr. Patricia Lee'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Fall 2023'
            },
            'ENEL 353': {
                name: 'Circuits and Systems',
                description: 'Analysis of electrical circuits including DC and AC circuits, network theorems, and circuit design principles. Foundation for electrical engineering applications.',
                credits: 3,
                professors: ['Dr. Robert Kim', 'Prof. Jennifer Park'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Winter 2024'
            },
            'ENCM 369': {
                name: 'Computer Organization',
                description: 'Computer architecture, instruction set design, memory systems, and processor organization. Understanding of how computers execute programs at the hardware level.',
                credits: 3,
                professors: ['Dr. Mark Thompson', 'Prof. Susan White'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Fall 2024'
            },
            'ENME 327': {
                name: 'Mechatronics Systems',
                description: 'Integration of mechanical, electrical, and computer systems. Covers sensors, actuators, microcontrollers, and system integration for mechatronic applications.',
                credits: 3,
                professors: ['Dr. Kevin Zhang', 'Prof. Amanda Green'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Fall 2024'
            },
            'ENEL 301': {
                name: 'Electrical Circuits and Power',
                description: 'Advanced circuit analysis, power systems, and electrical energy conversion. Applications to power distribution and electrical machines.',
                credits: 3,
                professors: ['Dr. Robert Kim', 'Prof. Jennifer Park'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Winter 2024'
            },
            'COST 201': {
                name: 'Introduction to Communication Studies',
                description: 'Foundational concepts in communication theory, media studies, and interpersonal communication. Introduction to the field of communication studies.',
                credits: 3,
                professors: ['Prof. Maria Garcia', 'Dr. Thomas Wright'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Fall 2023'
            },
            'COST 305': {
                name: 'Communication Theory',
                description: 'Advanced study of communication theories and models. Analysis of how communication processes work in various contexts and media.',
                credits: 3,
                professors: ['Prof. Maria Garcia', 'Dr. Thomas Wright'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Winter 2024'
            },
            'CHEM 209': {
                name: 'Chemistry for Engineers',
                description: 'Fundamental principles of chemistry with applications to engineering. Covers atomic structure, chemical bonding, thermodynamics, and kinetics.',
                credits: 3,
                professors: ['Dr. Patricia Lee', 'Prof. Robert Brown'],
                recentOfferings: ['Fall 2024', 'Winter 2025', 'Spring 2025'],
                userTaken: 'Fall 2023'
            },
            'ENDG 233': {
                name: 'Engineering Design and Communication',
                description: 'Introduction to engineering design methodology, technical communication, and professional development. Team-based projects and presentations.',
                credits: 3,
                professors: ['Prof. Michael Chen', 'Dr. Patricia Lee'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Fall 2023'
            },
            'MATH 277': {
                name: 'Multivariable Calculus',
                description: 'Calculus of functions of several variables, partial derivatives, multiple integrals, and vector calculus. Applications to engineering problems.',
                credits: 3,
                professors: ['Prof. James Wilson', 'Dr. Lisa Anderson'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Winter 2024'
            },
            'PHYS 259': {
                name: 'Electricity and Magnetism',
                description: 'Fundamental principles of electricity and magnetism. Topics include electric fields, magnetic fields, electromagnetic induction, and AC circuits.',
                credits: 3,
                professors: ['Dr. Robert Kim', 'Prof. Jennifer Park'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: 'Winter 2024'
            },
            'ENSF 380': {
                name: 'Software Testing and Quality Assurance',
                description: 'Principles and practices of software testing, quality assurance, and verification. Covers test design, automation, and quality metrics.',
                credits: 3,
                professors: ['Dr. Emily Roberts', 'Prof. Michael Chen'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: null
            },
            'ENSF 381': {
                name: 'Software Maintenance and Evolution',
                description: 'Techniques for maintaining and evolving software systems. Covers refactoring, legacy systems, and software evolution strategies.',
                credits: 3,
                professors: ['Dr. Sarah Johnson', 'Prof. David Martinez'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: null
            },
            'ENSF 460': {
                name: 'Object Oriented Design',
                description: 'A critical course focusing on advanced object-oriented design principles, patterns (like SOLID, Gang of Four), and their application in large-scale software projects.',
                credits: 3,
                professors: ['Dr. Patrick Mahomes'],
                recentOfferings: ['Fall 2026'],
                userTaken: null
            },
            'ENSF 461': {
                name: 'Software Product Management',
                description: 'Covers the lifecycle of software products, from ideation and market analysis to roadmap development, release planning, and retirement.',
                credits: 3,
                professors: ['Dr. Michael Jordan'],
                recentOfferings: ['Fall 2026'],
                userTaken: null
            },
            'SENG 511': {
                name: 'Advanced Software Engineering',
                description: 'Advanced topics in software engineering including formal methods, software metrics, and advanced design techniques.',
                credits: 3,
                professors: ['Dr. Sarah Johnson', 'Dr. Emily Roberts'],
                recentOfferings: ['Fall 2024', 'Winter 2025'],
                userTaken: null
            },

            'ENSF 462': {
                name: 'Software Architecture',
                description: 'Covers fundamental software architecture styles, design principles, and analysis methods for building complex, reliable software systems.',
                credits: 3,
                professors: ['Dr. Lebron James'],
                recentOfferings: ['Fall 2026'],
                userTaken: null
            },
            'ENEL 480': {
                name: 'Computer Hardware',
                description: 'A deep dive into computer organization, digital logic, and hardware/software interface, including memory hierarchies and I/O devices.',
                credits: 3,
                professors: ['Dr. Tom Brady'],
                recentOfferings: ['Fall 2026'],
                userTaken: null
            },
            'ENEL 461': {
                name: 'Electrical Circuits and Power',
                description: 'Analysis of electrical circuits, including AC/DC networks, power systems, and energy conversion relevant to software-controlled physical systems.',
                credits: 3,
                professors: ['Dr. JJ Watt'],
                recentOfferings: ['Fall 2026'],
                userTaken: null
            },
            'ENSF 400': {
                name: 'Software Engineering Project Management 2',
                description: 'Advanced topics in managing software development projects, including risk management, project recovery, and team leadership in Agile and traditional environments.',
                credits: 3,
                professors: ['Dr. Devante Adams'],
                recentOfferings: ['Winter 2027'],
                userTaken: null
            },
            'ENSF 444': {
                name: 'Software Design Patterns',
                description: 'In-depth study of reusable solutions to common problems in software design, emphasizing the Gang of Four patterns and their application.',
                credits: 3,
                professors: ['Dr. Dwayne Wade'],
                recentOfferings: ['Winter 2027'],
                userTaken: null
            },
            'ENSF 401': {
                name: 'Software Testing and Quality Assurance',
                description: 'Focuses on testing techniques, verification, validation, and quality metrics to ensure software reliability and maintainability.',
                credits: 3,
                professors: ['Dr. Lamar Jackson'],
                recentOfferings: ['Winter 2027'],
                userTaken: null
            },
            'SENG 438': {
                name: 'Machine Learning',
                description: 'Introduction to the theory and application of machine learning algorithms, including supervised and unsupervised learning techniques.',
                credits: 3,
                professors: ['Dr. Kyler Murray'],
                recentOfferings: ['Winter 2027'],
                userTaken: null
            },
            'ENSF 441': {
                name: 'Software Reverse Engineering',
                description: 'Techniques and ethics of analyzing software binaries and systems to understand their function, often in the context of security or interoperability.',
                credits: 3,
                professors: ['Dr. Tua Tagovailoa'],
                recentOfferings: ['Winter 2027'],
                userTaken: null
            },
        };

        function getCourseInfo(courseCode) {
            if (courseInfo[courseCode]) {
                return courseInfo[courseCode];
            }
            return {
                name: `${courseCode} - Course Information`,
                description: 'Course description not available. Please consult the course catalog for more information.',
                credits: 3,
                professors: ['TBA'],
                recentOfferings: ['See course catalog'],
                userTaken: null
            };
        }

        function prerequisitesSatisfied(courseCode) {
            const list = prereqs[courseCode];
            if (!list || list.length === 0) return true;
            return list.every(c => completedCourses.includes(c));
        }


        function collectKnownCourses() {
            const set = new Set();
            document.querySelectorAll('.course-box').forEach(box => {
                const code = box.dataset.course;
                if (code) set.add(code.trim());
            });
            Object.keys(prereqs).forEach(c => set.add(c));
            Object.values(prereqs).flat().forEach(c => set.add(c));
            return Array.from(set).sort();
        }

        function renderSearchList(filter = '') {
            const results = document.getElementById('searchResults');
            results.innerHTML = '';
            const courses = collectKnownCourses().filter(c => c.toLowerCase().includes(filter.toLowerCase()));
            courses.forEach(code => {
                const div = document.createElement('div');
                div.className = 'search-item';
                div.draggable = true;
                div.dataset.course = code;
                div.innerHTML = `<div style="display:flex;flex-direction:column;align-items:flex-start;">
                                    <div class="search-code">${code}</div>
                                    <div class="search-prereqs">${(prereqs[code] && prereqs[code].length) ? 'Pre: ' + prereqs[code].join(', ') : 'No prereqs'}</div>
                                </div>
                                <div style="font-size:12px;color:#c41e3a;font-weight:700;">DRAG</div>`;
                div.addEventListener('dragstart', (ev) => {
                    ev.dataTransfer.setData('text/plain', code);
                    ev.dataTransfer.effectAllowed = 'move';
                });
                results.appendChild(div);
            });
            if (courses.length === 0) {
                results.innerHTML = `<div style="color:#666; font-size:13px;">No matches</div>`;
            }
        }

        document.getElementById('courseSearch').addEventListener('input', (e) => {
            renderSearchList(e.target.value);
        });

        function makeBoxesDroppable() {
            const grids = document.querySelectorAll('.course-grid');
            grids.forEach(grid => {
                while (grid.children.length < 5) {
                    const slot = document.createElement('div');
                    slot.className = 'course-box slot';
                    slot.dataset.course = '';
                    slot.textContent = 'SLOT';
                    grid.appendChild(slot);
                }

                Array.from(grid.children).forEach(box => {
                    box.setAttribute('draggable', 'false');
                    
                    box.addEventListener('click', () => {
                        const course = box.dataset.course || box.textContent.trim();
                        if (!course || course === 'SLOT') return;
                        showCourseModal(course);
                    });

                    box.addEventListener('dragenter', (e) => {
                        e.preventDefault();
                        box.classList.add('highlight');
                    });
                    box.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        e.dataTransfer.dropEffect = 'move';
                    });
                    box.addEventListener('dragleave', (e) => {
                        box.classList.remove('highlight');
                    });
                    box.addEventListener('drop', (e) => {
                        e.preventDefault();
                        box.classList.remove('highlight');
                        const code = e.dataTransfer.getData('text/plain') || e.dataTransfer.getData('text');
                        if (!code) return;
                        applyCourseToBox(box, code.trim());
                        saveMajorGridState();
                        renderSearchList(document.getElementById('courseSearch').value);
                    });
                });
            });
        }

        function applyCourseToBox(box, courseCode) {
            box.textContent = courseCode;
            box.dataset.course = courseCode;
            
            const info = getCourseInfo(courseCode);
            box.dataset.courseName = info.name;

            if (prerequisitesSatisfied(courseCode)) {
                box.classList.remove('red', 'yellow', 'slot');
                box.classList.add('green');
            } else {
                box.classList.remove('green', 'yellow', 'slot');
                box.classList.add('red');
            }

            if (!prereqs[courseCode]) {
                box.classList.remove('red', 'yellow', 'slot');
                box.classList.add('green');
            }

            box.onclick = () => {
                const course = box.dataset.course || box.textContent.trim();
                if (!course || course === 'SLOT') return;
                showCourseModal(course);
            };
        }

        window.addEventListener('DOMContentLoaded', () => {

            const totalCredits = 159;
            const completedCredits = 69;
            const inProgressCredits = 15;
            const notDoneCredits = totalCredits - completedCredits - inProgressCredits;
            const completedPercent = (completedCredits / totalCredits) * 100;
            const inProgressPercent = (inProgressCredits / totalCredits) * 100;
            const notDonePercent = (notDoneCredits / totalCredits) * 100;
            document.getElementById('completedProgress').style.width = completedPercent + '%';
            document.getElementById('inProgressProgress').style.width = inProgressPercent + '%';
            document.getElementById('notDoneProgress').style.width = notDonePercent + '%';
            document.getElementById('progressText').textContent = `Overall degree progress: ${Math.round(completedPercent)}% completed`;

            document.querySelectorAll('.course-box').forEach(box => {
                const code = box.dataset.course;
                if (!code || code === 'SLOT') {
                    box.classList.add('slot');
                    box.textContent = box.textContent.trim() || 'SLOT';
                } else {
                    const info = getCourseInfo(code);
                    box.dataset.courseName = info.name;
                    
                    if (!box.classList.contains('green') && !box.classList.contains('red') && !box.classList.contains('yellow')) {
                        if (prerequisitesSatisfied(code)) box.classList.add('green');
                        else box.classList.add('red');
                    }
                    
                    box.onclick = () => {
                        const course = box.dataset.course || box.textContent.trim();
                        if (!course || course === 'SLOT') return;
                        showCourseModal(course);
                    };
                }
            });

            makeBoxesDroppable();
            renderSearchList();
            
            const dateInput = document.querySelector('.date-input');
            if (dateInput) {
                dateInput.addEventListener('change', () => {
                    renderTimeSlots();
                    selectedTimeSlot = null;
                });
            }
        
            renderTicks('overallProgressBar', 53); 
            renderTicks('majorProgressBar', 40); 
            renderTicks('minorProgressBar', 4); 
            renderTicks('techProgressBar', 3); 
            renderTicks('costProgressBar', 6);
        });

        function renderTicks(progressBarId, totalCourses) {
            const progressBar = document.getElementById(progressBarId);
            if (!progressBar) return;
            
            progressBar.querySelectorAll('.tick').forEach(tick => tick.remove());

            const tickCount = parseInt(totalCourses, 10);
            for (let i = 1; i < tickCount; i++) {
                const tick = document.createElement('div');
                tick.className = 'tick';
                const percentage = (i / tickCount) * 100;
                tick.style.left = `${percentage}%`;
                progressBar.appendChild(tick);
            }
        }


        function showTab(tabName) {
            const sections = [
                'overview-content',
                'requirements-content',
                'advising-content',
                'major-requirements-content',
                'minor-requirements-content',
                'technical-electives-content',
                'cost-electives-content'
            ];
            sections.forEach(id => document.getElementById(id).classList.add('hidden'));

            if (tabName === 'overview') document.getElementById('overview-content').classList.remove('hidden');
            if (tabName === 'requirements') document.getElementById('requirements-content').classList.remove('hidden');
            if (tabName === 'advising') {
                document.getElementById('advising-content').classList.remove('hidden');
                renderBookedAppointments();
                renderTimeSlots();
            }

            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector(`.tab[onclick="showTab('${tabName}')"]`)?.classList.add('active');
        }


        function showMajorRequirements() {
            document.getElementById('requirements-content').classList.add('hidden');
            document.getElementById('major-requirements-content').classList.remove('hidden');
            makeBoxesDroppable();
            restoreMajorGridState();
            makeBoxesDroppable();

        }

        function showMinorRequirements() {
            document.getElementById('requirements-content').classList.add('hidden');
            document.getElementById('minor-requirements-content').classList.remove('hidden');
        }

        function showTechnicalElectives() {
            document.getElementById('requirements-content').classList.add('hidden');
            document.getElementById('technical-electives-content').classList.remove('hidden');
        }

        function showCOSTElectives() {
            document.getElementById('requirements-content').classList.add('hidden');
            document.getElementById('cost-electives-content').classList.remove('hidden');
        }

        function openPrerequisites(courseCode) {
            showCourseModal(courseCode);
        }

        function showCourseModal(courseCode) {
            const info = getCourseInfo(courseCode);
            const prereqList = prereqs[courseCode] || [];
            const isCompleted = completedCourses.includes(courseCode);
            const prereqSatisfied = prerequisitesSatisfied(courseCode);
            
            document.getElementById('courseModalTitle').textContent = `${courseCode} - ${info.name}`;
            
            let content = `
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">Course Description</div>
                    <div style="font-size: 14px; color: #666; line-height: 1.6;">${info.description}</div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">Credits</div>
                    <div style="font-size: 14px; color: #666;">${info.credits} Credits</div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">Recent Professors</div>
                    <div style="font-size: 14px; color: #666;">${info.professors.join(', ')}</div>
                </div>
                
                <div style="margin-bottom: 20px;">
                    <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">Recent Offerings</div>
                    <div style="font-size: 14px; color: #666;">${info.recentOfferings.join(', ')}</div>
                </div>
            `;
            
            if (info.userTaken) {
                content += `
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">When You Took This Course</div>
                        <div style="font-size: 14px; color: #4caf50; font-weight: 500;">${info.userTaken}</div>
                    </div>
                `;
            }
            
            if (prereqList.length > 0) {
                content += `
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">Prerequisites</div>
                        <div style="font-size: 14px; color: #666;">
                `;
                prereqList.forEach(prereq => {
                    const completed = completedCourses.includes(prereq);
                    const statusColor = completed ? '#4caf50' : '#e53935';
                    const statusText = completed ? '‚úì Completed' : '‚úó Not Completed';
                    content += `<div style="margin-bottom: 4px;"><span style="font-weight: 500;">${prereq}</span> <span style="color: ${statusColor};">${statusText}</span></div>`;
                });
                content += `</div></div>`;
            } else {
                content += `
                    <div style="margin-bottom: 20px;">
                        <div style="font-weight: 600; font-size: 14px; color: #c41e3a;">Prerequisites</div>
                        <div style="font-size: 14px; color: #666;">No prerequisites required</div>
                    </div>
                `;
            }
            
            content += `
                <div style="margin-top: 20px; padding: 12px; background: #f9f9f9; border-radius: 4px; border-left: 4px solid ${isCompleted ? '#4caf50' : prereqSatisfied ? '#ffd54f' : '#e53935'};">
                    <div style="font-weight: 600; font-size: 14px; margin-bottom: 4px;">Status</div>
                    <div style="font-size: 14px; color: ${isCompleted ? '#4caf50' : prereqSatisfied ? '#f9a825' : '#e53935'}; font-weight: 500;">
                        ${isCompleted ? '‚úì Completed' : prereqSatisfied ? '‚ö† Prerequisites Satisfied' : '‚úó Prerequisites Not Satisfied'}
                    </div>
                </div>
            `;
            
            document.getElementById('courseModalContent').innerHTML = content;
            document.getElementById('courseModal').classList.add('active');
        }

        function closeCourseModal() {
            document.getElementById('courseModal').classList.remove('active');
        }

        document.addEventListener('click', (e) => {
            const courseModal = document.getElementById('courseModal');
            if (e.target === courseModal) {
                closeCourseModal();
            }
        });

        const totalCredits = 159;
        const completedCredits = 69;
        const inProgressCredits = 15;
        const notDoneCredits = totalCredits - completedCredits - inProgressCredits;

        const completedPercent = (completedCredits / totalCredits) * 100;
        const inProgressPercent = (inProgressCredits / totalCredits) * 100;
        const notDonePercent = (notDoneCredits / totalCredits) * 100;

        document.getElementById('completedProgress').style.width = completedPercent + '%';
        document.getElementById('inProgressProgress').style.width = inProgressPercent + '%';
        document.getElementById('notDoneProgress').style.width = notDonePercent + '%';

        const majorTotalCredits = 120;
        const majorCompletedCredits = 87;
        const majorInProgressCredits = 6;
        const majorNotDoneCredits = majorTotalCredits - majorCompletedCredits - majorInProgressCredits;

        const majorCompletedPercent = (majorCompletedCredits / majorTotalCredits) * 100;
        const majorInProgressPercent = (majorInProgressCredits / majorTotalCredits) * 100;
        const majorNotDonePercent = (majorNotDoneCredits / majorTotalCredits) * 100;

        document.getElementById('majorCompletedProgress').style.width = majorCompletedPercent + '%';
        document.getElementById('majorInProgressProgress').style.width = majorInProgressPercent + '%';
        document.getElementById('majorNotDoneProgress').style.width = majorNotDonePercent + '%';

        const minorTotalCredits = 12;
        const minorCompletedCredits = 9;
        const minorInProgressCredits = 0;
        const minorNotDoneCredits = minorTotalCredits - minorCompletedCredits - minorInProgressCredits;

        const minorCompletedPercent = (minorCompletedCredits / minorTotalCredits) * 100;
        const minorInProgressPercent = (minorInProgressCredits / minorTotalCredits) * 100;
        const minorNotDonePercent = (minorNotDoneCredits / minorTotalCredits) * 100;

        document.getElementById('minorCompletedProgress').style.width = minorCompletedPercent + '%';
        document.getElementById('minorInProgressProgress').style.width = minorInProgressPercent + '%';
        document.getElementById('minorNotDoneProgress').style.width = minorNotDonePercent + '%';

        const techTotalCredits = 9;
        const techCompletedCredits = 6;
        const techInProgressCredits = 0;
        const techNotDoneCredits = techTotalCredits - techCompletedCredits - techInProgressCredits;

        const techCompletedPercent = (techCompletedCredits / techTotalCredits) * 100;
        const techInProgressPercent = (techInProgressCredits / techTotalCredits) * 100;
        const techNotDonePercent = (techNotDoneCredits / techTotalCredits) * 100;

        document.getElementById('techCompletedProgress').style.width = techCompletedPercent + '%';
        document.getElementById('techInProgressProgress').style.width = techInProgressPercent + '%';
        document.getElementById('techNotDoneProgress').style.width = techNotDonePercent + '%';

        const costTotalCredits = 18;
        const costCompletedCredits = 12;
        const costInProgressCredits = 0;
        const costNotDoneCredits = costTotalCredits - costCompletedCredits - costInProgressCredits;

        const costCompletedPercent = (costCompletedCredits / costTotalCredits) * 100;
        const costInProgressPercent = (costInProgressCredits / costTotalCredits) * 100;
        const costNotDonePercent = (costNotDoneCredits / costTotalCredits) * 100;

        document.getElementById('costCompletedProgress').style.width = costCompletedPercent + '%';
        document.getElementById('costInProgressProgress').style.width = costInProgressPercent + '%';
        document.getElementById('costNotDoneProgress').style.width = costNotDonePercent + '%';

        document.getElementById('progressText').textContent = 
            `Overall degree progress: ${Math.round(completedPercent)}% completed`;
    
        window.addEventListener('DOMContentLoaded', () => {
            if (window.location.hash === '#requirements-content') {
                showTab('requirements');
            }
        });

        let selectedTimeSlot = null;

        function selectTimeSlot(element, timeSlot) {
            const allSlots = document.querySelectorAll('.time-slot.available');
            allSlots.forEach(slot => {
                slot.style.border = 'none';
                slot.style.borderLeft = '4px solid #4caf50';
            });
            
            element.style.border = '3px solid #c41e3a';
            element.style.borderLeft = '4px solid #4caf50';
            selectedTimeSlot = timeSlot;
        }

        const allTimeSlots = [
            '9:00 AM - 10:00 AM',
            '10:00 AM - 11:00 AM',
            '11:00 AM - 12:00 PM',
            '12:00 PM - 1:00 PM',
            '1:00 PM - 2:00 PM',
            '2:00 PM - 3:00 PM',
            '3:00 PM - 4:00 PM',
            '4:00 PM - 5:00 PM'
        ];

        function getBookedAppointments() {
            const stored = localStorage.getItem('bookedAppointments');
            return stored ? JSON.parse(stored) : [];
        }

        function isTimeSlotBooked(date, timeSlot) {
            const appointments = getBookedAppointments();
            return appointments.some(apt => apt.rawDate === date && apt.time === timeSlot);
        }

        function renderTimeSlots() {
            const container = document.getElementById('timeSlotsContainer');
            const dateInput = document.querySelector('.date-input');
            const selectedDate = dateInput ? dateInput.value : '';
            
            if (!selectedDate) {
                container.innerHTML = '<div style="color: #666; font-size: 14px; padding: 15px; text-align: center;">Please select a date first.</div>';
                return;
            }
            
            const availableSlots = allTimeSlots.filter(slot => !isTimeSlotBooked(selectedDate, slot));
            
            if (availableSlots.length === 0) {
                container.innerHTML = '<div style="color: #666; font-size: 14px; padding: 15px; text-align: center; background: #f9f9f9; border-radius: 4px;">No available time slots for this date.</div>';
                return;
            }
            
            container.innerHTML = availableSlots.map(slot => {
                return `
                    <div class="time-slot available" onclick="selectTimeSlot(this, '${slot}')">
                        <span class="time-label">${slot}</span>
                        <span class="slot-status">Available</span>
                    </div>
                `;
            }).join('');
        }

        function saveBookedAppointment(appointment) {
            const appointments = getBookedAppointments();
            appointments.push(appointment);
            localStorage.setItem('bookedAppointments', JSON.stringify(appointments));
        }

        function deleteBookedAppointment(index) {
            const appointments = getBookedAppointments();
            appointments.splice(index, 1);
            localStorage.setItem('bookedAppointments', JSON.stringify(appointments));
            renderBookedAppointments();
            renderTimeSlots();
        }

        function renderBookedAppointments() {
            const bookingsList = document.getElementById('bookingsList');
            const appointments = getBookedAppointments();
            
            if (appointments.length === 0) {
                bookingsList.innerHTML = '<div style="color: #666; font-size: 14px; padding: 15px; text-align: center; background: #f9f9f9; border-radius: 4px;">No appointments booked yet.</div>';
                return;
            }
            
            bookingsList.innerHTML = appointments.map((apt, index) => {
                return `
                    <div class="booked-appointment-item">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; font-size: 14px; margin-bottom: 4px;">${apt.department}</div>
                            <div style="font-size: 13px; color: #666; margin-bottom: 2px;">${apt.date}</div>
                            <div style="font-size: 13px; color: #666; margin-bottom: 2px;">${apt.time}</div>
                            ${apt.reason ? `<div style="font-size: 12px; color: #888; margin-top: 6px; font-style: italic;">"${apt.reason}"</div>` : ''}
                        </div>
                        <button class="cancel-btn" onclick="deleteBookedAppointment(${index})">Cancel</button>
                    </div>
                `;
            }).join('');
        }

        function bookAppointment() {
            const reason = document.getElementById('advisingReason').value.trim();
            const date = document.querySelector('.date-input').value;
            const department = document.getElementById('departmentSelect').value;
            
            if (!department) {
                alert('Please select a department first.');
                return;
            }
            
            if (!selectedTimeSlot) {
                alert('Please select a time slot first.');
                return;
            }
            
            if (!reason) {
                alert('Please enter a reason for advising.');
                return;
            }
            
            const formattedDate = new Date(date).toLocaleDateString('en-US', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            const deptName = document.getElementById('departmentSelect').options[document.getElementById('departmentSelect').selectedIndex].text;
            
            const appointment = {
                department: deptName,
                date: formattedDate,
                time: selectedTimeSlot,
                reason: reason,
                rawDate: date
            };
            saveBookedAppointment(appointment);
            
            document.getElementById('modalMessage').innerHTML = 
                `Your appointment has been successfully booked for:<br><br>
                <strong>Department:</strong> ${deptName}<br>
                <strong>Date:</strong> ${formattedDate}<br>
                <strong>Time:</strong> ${selectedTimeSlot}<br><br>
                You will receive a confirmation email shortly.`;
            
            document.getElementById('bookingModal').classList.add('active');
            
            renderBookedAppointments();
            renderTimeSlots();
            selectedTimeSlot = null;
        }

        function closeModal() {
            document.getElementById('bookingModal').classList.remove('active');
            document.getElementById('advisingReason').value = '';
            document.getElementById('departmentSelect').value = '';
            selectedTimeSlot = null;
            
            renderTimeSlots();
        }

        function saveMajorGridState() {
            const grids = document.querySelectorAll("#major-requirements-content .course-grid");
            const state = [];

            grids.forEach(grid => {
                const row = [];
                grid.querySelectorAll(".course-box").forEach(box => {
                    row.push({
                        course: box.dataset.course || "",
                        classes: box.className
                    });
                });
                state.push(row);
            });

            sessionStorage.setItem("majorGridState", JSON.stringify(state));
        }

        function restoreMajorGridState() {
            const saved = sessionStorage.getItem("majorGridState");
            if (!saved) return;

            const state = JSON.parse(saved);
            const grids = document.querySelectorAll("#major-requirements-content .course-grid");

            grids.forEach((grid, i) => {
                const rowState = state[i];
                if (!rowState) return;

                const boxes = grid.querySelectorAll(".course-box");

                boxes.forEach((box, j) => {
                    const savedBox = rowState[j];
                    if (!savedBox) return;

                    box.dataset.course = savedBox.course;
                    box.textContent = savedBox.course || "SLOT";
                    box.className = savedBox.classes;
                });
            });
        }
        window.addEventListener("pageshow", (event) => {
            if (event.persisted) {
                restoreMajorGridState();
            }
        });

    </script>
</body>
</html>